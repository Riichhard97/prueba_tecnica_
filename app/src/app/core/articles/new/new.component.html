<div class="container">
    <h2>{{ editing ? 'Editar Artículo' : 'Crear Nuevo Artículo' }}</h2>
    <form (ngSubmit)="submitForm()" #articleForm="ngForm" novalidate>
        <div class="form-group">
            <label for="codigo">Código</label>
            <input type="text" class="form-control" id="codigo" name="codigo" [(ngModel)]="article.codigo" name="codigo"
                required #codigo="ngModel">
            <div *ngIf="codigo.invalid && (codigo.dirty || codigo.touched)" class="text-danger">
                <div *ngIf="codigo.errors && codigo.errors['required']">
                    El código es requerido.
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="descripcion">Descripción</label>
            <input type="text" class="form-control" id="descripcion" name="descripcion"
                [(ngModel)]="article.descripcion" name="descripcion" required #descripcion="ngModel">
            <div *ngIf="descripcion.invalid && (descripcion.dirty || descripcion.touched)" class="text-danger">
                <div *ngIf="descripcion.errors && descripcion.errors['required']">
                    La descripción es requerida.
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="precio">Precio</label>
            <input type="number" class="form-control" id="precio" name="precio" [(ngModel)]="article.precio"
                name="precio" required #precio="ngModel">
            <div *ngIf="precio.invalid && (precio.dirty || precio.touched)" class="text-danger">
                <div *ngIf="precio.errors && precio.errors['required']">
                    El precio es requerido.
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="imagen">Imagen</label>
            <input type="file" class="form-control-file" id="imagen" name="imagen" (change)="onFileSelected($event)"
                accept="image/*" required [(ngModel)]="imagen">
            <div *ngIf="imagen">
                <div *ngIf="imagen.invalid && (imagen.dirty || imagen.touched)" class="text-danger">
                    <div *ngIf="imagen.errors && imagen.errors['required']">
                        La imagen es requerida.
                    </div>
                </div>
            </div>
            <img *ngIf="imageSrc" [src]="imageSrc" alt="Preview" class="img-fluid mt-3 img-custom">
            <div *ngIf="imageSrc">
                *** Asi se verá en el mercado.
                el tamaño de las imagenes deberá ser 150 x 350
            </div>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="articleForm.invalid">{{ editing ? 'Guardar Cambios' :
            'Crear Artículo' }}</button>
    </form>
</div>